<% if @cartitem.errors.present? %>
<h3>エラーがあります。</h3>
<ul>
  <% @cartitem.errors.full_messages.each do |msg| %>
    <li><%= msg %></li>
  <% end %>
</ul>
<% end %>

<%= form_with model: @cartitem, url: cartitems_path do |f| %>
  <p>
    <%= f.label :name, '商品名称' %>
    <%= Product.find(params[:product_id]).name %>
  </p>
  <p>
    <%= f.label :price, '商品価格' %>
    <%= Product.find(params[:product_id]).price %>
  </p>
  <p>
    <%= f.label :qty, '数量' %>
    <%= f.text_field :qty %>
  </p>
  <%= f.hidden_field :product_id, value: params[:product_id] %>
  <%= f.submit '登録する' %>
<% end %>